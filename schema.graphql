input AcceptCandidacyInput {
	id: UUID!
}
type Account {
	planId: ID
	status: SubscriptionStatus
	stripeCustomerId: String
	stripeSubscriptionId: String
	trialEnd: DateTime
	id: ID!
	plan: Plan
}
input AccountActivatePlanInput {
	id: UUID!
	name: String!
	planCode: PlanCode!
}
input AccountUpdateInput {
	id: UUID!
	paymentMethodId: String!
}
type Address {
	city: String!
	country: String
	line1: String!
	line2: String
	postalCode: String!
	inline: String!
}
input AddressInput {
	city: String!
	country: String
	line1: String!
	line2: String
	postalCode: String!
}
type Advertisement {
	id: ID!
	createdAt: DateTime
	updatedAt: DateTime
	published: Boolean!
	leaseType: LeaseType!
	rentAmount: Decimal!
	rentChargesAmount: Decimal
	depositAmount: Decimal
	effectDate: DateTime!
	flexibility: LenderFlexibility
	referralLeaseId: ID
	propertyId: ID!
}
scalar AuthenticationID
type Candidacy {
	id: ID!
	createdAt: DateTime
	updatedAt: DateTime
	status: CandidacyStatus!
	advertisementId: ID!
	tenantId: ID!
	moveInDate: DateTime!
	description: String!
	tenant: Tenant!
}
enum CandidacyStatus {
	PENDING
	REJECTED
	ACCEPTED
}
type Company implements LegalIdentityInterface {
	address: Address
	displayName: String!
	email: Email!
	id: ID!
	legalEntity: String!
	legalEntityIdentifier: String
	legalEntityType: LegalEntityType
	legalEntityTypeOther: String
	phoneNumber: PhoneNumber
}
input CreateCandidacyInput {
	advertisementId: UUID!
	isStudent: Boolean!
	firstName: String!
	lastName: String!
	birthdate: Date!
	email: String!
	phoneNumber: PhoneNumber!
	moveInDate: DateTime!
	description: String!
	files: [CreateFileInput!]
	warrants: [CreateWarrantInput!]
}
input CreateFileInput {
	downloadUrl: URL!
	type: FileType!
}
input CreatePersonInput {
	email: Email!
	firstName: String!
	lastName: String!
	address: AddressInput!
	phoneNumber: PhoneNumber
}
input CreateProfessionalWarrantInput {
	name: String!
	identifier: String!
}
input CreateWarrantInput {
	type: WarrantType!
	individual: CreatePersonInput
	company: CreateProfessionalWarrantInput
}
scalar Date
scalar DateTime
scalar Decimal
scalar Email
type Error {
	message: String!
}
type Event {
	id: ID!
	createdAt: DateTime
	updatedAt: DateTime
	eventableId: ID!
	eventableType: EventableType!
	type: EventType!
	object: Eventable!
}
enum EventType {
	RENT_RECEIPT_CREATED
	RENT_RECEIPT_SENT
	TRANSACTION_CREATED
}
union Eventable = | Rent | Transaction
enum EventableType {
	RENT
	PAYMENT
}
type Feature {
	available: Boolean!
	title: String!
	key: String
}
type File {
	createdAt: DateTime
	downloadUrl: URL
	externalId: String
	filename: String
	previewUrl: URL
	status: FileStatus
	type: FileType!
	updatedAt: DateTime
	id: ID!
}
"""
https://www.pdfmonkey.io/fr/doc/api/generer-un-document
"""
enum FileStatus {
	DRAFT
	FAILURE
	GENERATING
	PENDING
	SUCCESS
}
enum FileType {
	PAYMENT_NOTICE
	LEASE_DOCUMENT
	RENT_RECEIPT
}
input ImportInput {
	files: [CreateFileInput!]!
	source: ImportSource!
}
enum ImportSource {
	RENTILA
}
type Invoice {
	id: ID!
	number: Int!
	amountPaid: Decimal!
	invoicePdf: String!
	periodEnd: DateTime!
	status: String!
	planCode: PlanCode!
}
type Lease {
	accountId: ID!
	depositAmount: Decimal
	effectDate: DateTime!
	duration: LeaseFurnishedDuration!
	signatureDate: DateTime
	rentAmount: Decimal!
	rentChargesAmount: Decimal
	rentFullAmount: Decimal!
	type: LeaseType!
	leaseId: ID
	propertyId: ID!
	id: ID!
	data: LeaseFurnishedData
	expiredAt: DateTime
	renewDate: DateTime
	status: LeaseStatus!
	rents: [Rent!]!
	lease: File
	tenants: [Tenant!]!
	account: Account
	property: Property!
}
type LeaseFurnishedData {
	chargesRecuperationMode: RentChargesRecuperationMode
	chargesRevisionMethod: String
	colocationInsuranceLender: Boolean
	colocationInsuranceMonthlyAmount: Decimal
	colocationInsuranceTotalAmount: Decimal
	duration: LeaseFurnishedDuration
	lenderFeeCap: Decimal
	lenderFeeCapOther: String
	lenderFeeCapPrestations: Decimal
	otherConditions: String
	rentComplement: Decimal
	rentComplementPropertyJustification: String
	rentFirstAmount: Decimal
	rentIrl: LeaseRentReferenceIrl
	rentIrlRevisionDate: DateTime
	rentMajDecreeIncreasedAmount: Decimal
	rentMajDecreeReferenceAmount: Decimal
	rentMajorationDecree: Boolean
	rentMaxEvolutionRelocation: Boolean
	rentPaymentDate: DateTime
	rentPaymentMethod: RentPaymentMethod
	rentPaymentPlace: String
	rentPeriodicity: LeaseRentPeriodicity
	rentUnderestimatedMethod: String
	rentUnderestimatedMonthlyVariation: Decimal
	resolutaryClause: String
	solidarityClause: String
	tenantFeeCapNewRental: Decimal
	tenantFeeCapPrestations: Decimal
	tenantFeeCapReportByMeter: Decimal
	tenantFeeCapReportPrestations: Decimal
	tenantLastRentAmount: Decimal
	tenantLastRentReceivedDate: DateTime
	tenantLastRentRevisionDate: DateTime
	worksDecenceSinceLastRental: String
	worksRentDecreaseTenant: String
	worksRentIncreaseLender: String
}
input LeaseFurnishedDataInput {
	chargesRecuperationMode: RentChargesRecuperationMode
	chargesRevisionMethod: String
	colocationInsuranceLender: Boolean
	colocationInsuranceMonthlyAmount: Decimal
	colocationInsuranceTotalAmount: Decimal
	duration: LeaseFurnishedDuration
	lenderFeeCap: Decimal
	lenderFeeCapOther: String
	lenderFeeCapPrestations: Decimal
	otherConditions: String
	rentComplement: Decimal
	rentComplementPropertyJustification: String
	rentFirstAmount: Decimal
	rentIrl: LeaseRentReferenceIrl
	rentIrlRevisionDate: DateTime
	rentMajDecreeIncreasedAmount: Decimal
	rentMajDecreeReferenceAmount: Decimal
	rentMajorationDecree: Boolean
	rentMaxEvolutionRelocation: Boolean
	rentPaymentDate: DateTime
	rentPaymentMethod: RentPaymentMethod
	rentPaymentPlace: String
	rentPeriodicity: LeaseRentPeriodicity
	rentUnderestimatedMethod: String
	rentUnderestimatedMonthlyVariation: Decimal
	resolutaryClause: String
	solidarityClause: String
	tenantFeeCapNewRental: Decimal
	tenantFeeCapPrestations: Decimal
	tenantFeeCapReportByMeter: Decimal
	tenantFeeCapReportPrestations: Decimal
	tenantLastRentAmount: Decimal
	tenantLastRentReceivedDate: DateTime
	tenantLastRentRevisionDate: DateTime
	worksDecenceSinceLastRental: String
	worksRentDecreaseTenant: String
	worksRentIncreaseLender: String
}
enum LeaseFurnishedDuration {
	NINE_MONTHS
	ONE_YEAR
}
input LeaseFurnishedInput {
	data: LeaseFurnishedDataInput
	depositAmount: Decimal
	effectDate: DateTime!
	renewDate: DateTime
	file: CreateFileInput
	propertyId: UUID!
	rentAmount: Decimal!
	rentChargesAmount: Decimal
	signatureDate: DateTime
	tenantIds: [UUID!]!
}
input LeaseFurnishedUpdateInput {
	data: LeaseFurnishedDataInput
	file: CreateFileInput
	id: UUID!
}
enum LeaseRentPeriodicity {
	ANNUALY
	MONTHLY
}
"""
https://www.service-public.fr/particuliers/vosdroits/F13723
"""
enum LeaseRentReferenceIrl {
	APRIL_FIRST_SEMESTER_Y2021
}
enum LeaseStatus {
	ACTIVE
	ENDED
}
enum LeaseType {
	FURNISHED
	NAKED
}
enum LegalEntityType {
	EURL
	OTHER
	SA
	SARL
	SAS
	SASU
	SCI
	SCP
	SNC
}
union LegalIdentity = | Person | Company
interface LegalIdentityInterface {
	displayName: String!
}
type Lender {
	id: ID!
	accountId: ID!
	individualId: ID
	companyId: ID
	displayName: String!
	identity: LegalIdentity!
}
enum LenderFlexibility {
	ONE_DAY
	THREE_DAYS
	SEVEN_DAYS
}
input LenderIndividualUpdateInput {
	id: UUID!
	individual: UserUpdateInput!
}
type Mutation {
	userCreateWithAccount(input: UserWithAccountInput!): Person!
	accountUpdatePaymentMethod(input: AccountUpdateInput!): Account!
	accountActivatePlan(input: AccountActivatePlanInput!): Account!
	tenantCreate(input: TenantInput!): Tenant!
	tenantUpdate(input: TenantUpdateInput!): Tenant!
	tenantDelete(id: ID!): ID!
	propertyCreate(input: PropertyInput!): Property!
	propertyUpdate(input: PropertyUpdateInput!): Property!
	propertyDelete(id: ID!): ID!
	leaseFurnishedCreate(input: LeaseFurnishedInput!): Lease!
	leaseFurnishedUpdate(input: LeaseFurnishedUpdateInput!): Lease!
	leaseDelete(id: ID!): ID!
	lenderIndividualUpdate(input: LenderIndividualUpdateInput!): Lender!
	candidacyCreate(input: CreateCandidacyInput!): Candidacy!
	candidacyAccept(input: AcceptCandidacyInput!): Candidacy!
	transactionCreate(input: TransactionInput!): Transaction!
	transactionDelete(id: ID!): ID!
	fileUpload(input: CreateFileInput!): File!
	importUpload(input: ImportInput!): Task!
	rentReceiptCreate(input: RentReceiptInput!): RentReceiptPayload!
	sendPaymentNotice(input: SendPaymentNoticeInput!): SendPaymentNoticePayload!
}
type Person implements PersonInterface & LegalIdentityInterface {
	authId: AuthenticationID
	email: Email!
	firstName: String!
	lastName: String!
	address: Address
	photoURL: URL
	role: UserRole
	id: ID!
	phoneNumber: PhoneNumber
	accountId: ID!
	displayName: String!
	accounts: [Account!]
	account: Account
}
interface PersonInterface {
	firstName: String!
	lastName: String!
	displayName: String!
}
scalar PhoneNumber
type Plan {
	code: PlanCode!
	price: Decimal
	subtitle: String
	title: String
	id: ID!
	features: [Feature!]!
}
enum PlanCode {
	SOLO
}
type ProfessionalWarrant {
	name: String!
	identifier: String!
}
type Property {
	account: Account
	accountId: ID!
	address: Address!
	buildPeriod: PropertyBuildPeriodType
	buildingLegalStatus: PropertyBuildingLegalStatus
	commonSpaces: String
	energyClass: PropertyEnergyClass
	equipments: String
	gasEmission: PropertyGasEmission
	heatingMethod: PropertyUsageType
	housingType: PropertyUsageType
	name: String!
	note: String
	nticEquipments: String
	otherSpaces: String
	tax: Decimal
	roomCount: PropertyRoomType!
	status: PropertyStatus
	surface: Float!
	tenantPrivateSpaces: String
	usageType: PropertyHabitationUsageType
	waterHeatingMethod: PropertyUsageType
	id: ID!
	lenderId: ID
	expectedRents: Decimal
	collectedRents: Decimal
	lender: Lender
	leases: [Lease!]
	advertisements: [Advertisement!]
}
enum PropertyBuildPeriodType {
	BEFORE_Y1949
	FROM_Y1949_Y1974
	FROM_Y1975_Y1989
	FROM_Y1990_Y2005
	FROM_Y2005
}
enum PropertyBuildingLegalStatus {
	COPRO
	MONO
}
enum PropertyEnergyClass {
	A
	B
	C
	D
	E
	F
	G
}
enum PropertyGasEmission {
	A
	B
	C
	D
	E
	F
	G
}
enum PropertyHabitationUsageType {
	HABITATION
	MIXTE
}
input PropertyInput {
	address: AddressInput!
	buildPeriod: PropertyBuildPeriodType!
	buildingLegalStatus: PropertyBuildingLegalStatus!
	commonSpaces: String
	energyClass: PropertyEnergyClass
	equipments: String
	gasEmission: PropertyGasEmission
	heatingMethod: PropertyUsageType!
	housingType: PropertyUsageType!
	lenderId: UUID!
	name: String!
	note: String
	description: String
	nticEquipments: String
	otherSpaces: String
	roomCount: PropertyRoomType!
	status: PropertyStatus
	surface: Float!
	tax: Decimal
	tenantPrivateSpaces: String
	usageType: PropertyHabitationUsageType!
	waterHeatingMethod: PropertyUsageType!
}
enum PropertyRoomType {
	OTHER
	T1
	T2
	T3
	T4
	T5
	T6
}
enum PropertyStatus {
	FOR_SALE
	INACTIVE
	RENTED
	UNDER_CONSTRUCTION
	UNRENTED
}
input PropertyUpdateInput {
	address: AddressInput
	buildPeriod: PropertyBuildPeriodType
	buildingLegalStatus: PropertyBuildingLegalStatus
	commonSpaces: String
	energyClass: PropertyEnergyClass
	equipments: String
	gasEmission: PropertyGasEmission
	heatingMethod: PropertyUsageType
	housingType: PropertyUsageType
	id: UUID!
	name: String
	note: String
	description: String
	nticEquipments: String
	otherSpaces: String
	roomCount: PropertyRoomType
	status: PropertyStatus
	surface: Float
	tax: Decimal
	tenantPrivateSpaces: String
	usageType: PropertyHabitationUsageType
	waterHeatingMethod: PropertyUsageType
}
enum PropertyUsageType {
	COLLECTIVE
	INDIVIDUAL
}
type Query {
	viewer: Person!
	advertisement(id: ID!): Advertisement!
	candidacies(propertyId: ID): [Candidacy!]!
	properties(id: ID, query: String): [Property!]!
	summary(since: DateTime, until: DateTime): Summary!
	tenants(id: ID, query: String, status: TenantStatus): [Tenant!]!
	leases(id: ID, query: String): [Lease!]!
	lenders(id: ID, query: String): [Lender!]!
	rents(since: DateTime!, until: DateTime!): [Rent!]!
	events: [Event!]!
	transactions(id: ID): [Transaction!]!
	invoices: [Invoice!]!
	plans: [Plan!]!
	files: [File!]!
}
type Rent {
	id: ID!
	periodEnd: DateTime!
	periodStart: DateTime!
	amount: Decimal!
	chargesAmount: Decimal
	fullAmount: Decimal!
	status: RentStatus!
	leaseId: ID!
	receiptId: ID
	noticeId: ID
	delay: Int
	transactions: [Transaction!]
	receipt: File
	lease: Lease!
}
enum RentChargesRecuperationMode {
	PACKAGE
	PERIODIC
	REEL
}
enum RentPaymentMethod {
	AFTER
	BEFORE
}
input RentReceiptInput {
	rentIds: [UUID!]!
	sendMail: Boolean!
}
type RentReceiptPayload {
	errors: [Error!]
	receipts: [File!]
}
enum RentStatus {
	PARTIAL
	PENDING
	SETTLED
}
input SendPaymentNoticeInput {
	rentIds: [UUID!]!
	date: DateTime
}
type SendPaymentNoticePayload {
	errors: [Error!]
	notices: [File!]
}
"""
https://stripe.com/docs/billing/subscriptions/overview#subscription-states
"""
enum SubscriptionStatus {
	ACTIVE
	CANCELED
	INCOMPLETE
	INCOMPLETE_EXPIRED
	PAST_DUE
	TRIALING
	UNPAID
}
type Summary {
	since: DateTime!
	until: DateTime!
	amountExpected: Decimal!
	amountReceived: Decimal!
	amountSettled: Decimal!
	amountPartial: Decimal!
	amountPending: Decimal!
	nExpected: Int!
	nReceived: Int!
	nSettled: Int!
	nPartial: Int!
	nPending: Int!
	ratioExpected: Float!
	ratioReceived: Float!
	ratioSettled: Float!
	ratioPartial: Float!
	ratioPending: Float!
	variationExpected: Float!
	variationReceived: Float!
	variationSettled: Float!
	variationPartial: Float!
	variationPending: Float!
	paymentRate: Float!
	occupationRate: Float!
}
type Task {
	id: ID!
	status: String!
	progress: Int!
}
type Tenant implements PersonInterface {
	accountId: ID!
	apl: Boolean
	birthdate: Date!
	birthplace: String
	email: Email!
	firstName: String!
	lastName: String!
	displayName: String!
	note: String
	phoneNumber: PhoneNumber
	id: ID!
	leaseId: ID
	isStudent: Boolean
	account: Account
	property: Property
	status: TenantStatus
	fullName: String!
	shortName: String
	lastTransaction: Transaction
	propertyName: String
	rentPayedThisYear: String
	unpaidRentAmount: Int
	files: [File!]
	lease: Lease
	warrants: [Warrant!]
}
input TenantInput {
	apl: Boolean
	birthdate: Date!
	birthplace: String
	email: String!
	firstName: String!
	lastName: String!
	note: String
	phoneNumber: PhoneNumber
	isStudent: Boolean
	warrants: [CreateWarrantInput!]
}
enum TenantStatus {
	CANDIDATE
	GONE
	LATE
	NEW
	UPTODATE
}
input TenantUpdateInput {
	apl: Boolean
	birthdate: Date
	birthplace: String
	email: String
	id: UUID!
	firstName: String
	lastName: String
	note: String
	phoneNumber: PhoneNumber
	isStudent: Boolean
	warrants: [CreateWarrantInput!]
}
type Transaction {
	id: ID!
	date: DateTime!
	amount: Decimal!
	type: TransactionType!
	rentId: ID!
	accountId: ID
	lease: Lease!
}
input TransactionInput {
	amount: Decimal!
	leaseId: UUID!
	date: DateTime!
	type: TransactionType
}
enum TransactionType {
	INSURANCE_HAB
	INSURANCE_PNO
	INVOICE
	LOAN_INTEREST
	LOAN_PAYMENT
	OTHER
	RENT
}
scalar URL
scalar UUID
enum UserRole {
	ADMIN
	TENANT
	USER
	VIEWER
	WARRANT
}
input UserUpdateInput {
	address: AddressInput
	firstName: String
	lastName: String
}
input UserWithAccountInput {
	address: AddressInput
	authId: AuthenticationID!
	email: String!
	firstName: String!
	lastName: String!
	skipCreateCustomer: Boolean
}
type Warrant {
	id: ID!
	type: WarrantType!
	identity: WarrantIdentity!
}
union WarrantIdentity = | Person | ProfessionalWarrant
enum WarrantType {
	PERSON
	VISALE
	COMPANY
}
schema {
	query: Query
	mutation: Mutation
}
